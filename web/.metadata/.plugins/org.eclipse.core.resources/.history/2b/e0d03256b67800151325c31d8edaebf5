<?php

class DAO{
	private $conexao;
	private $tipoDeConexao;
	
	
	const TIPO_PG_CATRACA_TESTE = 0;
	const TIPO_PG_SIG = 1;
	const TIPO_PG_CATRACA = 2;
	const TIPO_DEFAULT = self::TIPO_PG_CATRACA_TESTE;
	
	public function DAO($tipo = null,PDO $conexao = null){
		if($tipo == null){
			$this->tipoDeConexao = self::TIPO_DEFAULT;
		}else{
			$this->tipoDeConexao = $tipo;
		}
		
		
		if($conexao){
			$this->conexao = $conexao;
		}else{
			//Fazer a conexao
			switch ($this->tipoDeConexao){
				case self::TIPO_PG_CATRACA_TESTE:
					$this->conexao = new PDO("pgsql:host=10.5.0.15 dbname=bd_teste user=postgres password=postgres");
					break;
				default:
					$this->conexao = new PDO("pgsql:host=10.5.0.15 dbname=bd_teste user=postgres password=postgres");
					break;
			}
		}
		
		
					
	}
	

	public function setConexao(PDO $conexao){
		
		$this->conexao = $conexao;
		
		
	}
	public function getConexao(){
		return $this->conexao;	
	}
	
	
}



?>